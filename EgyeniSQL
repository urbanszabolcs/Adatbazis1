sudo sqlite3 egyeni.db
PRAGMA foreign_keys = ON;

-- ===== Hallgat√≥ =====
CREATE TABLE Hallgato (
    HallgatoID INTEGER PRIMARY KEY AUTOINCREMENT,
    Nev TEXT NOT NULL,
    Email TEXT UNIQUE NOT NULL,
    Telefonszam TEXT,
    SzuletesiDatum DATE NOT NULL
);

-- ===== Tanfolyam =====
CREATE TABLE Tanfolyam (
    TanfolyamID INTEGER PRIMARY KEY AUTOINCREMENT,
    Cim TEXT NOT NULL,
    Leiras TEXT,
    Kategoria TEXT NOT NULL,
    Oradij INTEGER DEFAULT 0
);

-- ===== Oktat√≥ =====
CREATE TABLE Oktato (
    OktatoID INTEGER PRIMARY KEY AUTOINCREMENT,
    Nev TEXT NOT NULL
);

-- ===== Oktat√≥ t√∂bb√©rt√©k≈± tulajdons√°g: szak√©rtelem =====
CREATE TABLE Szakertelmek (
    ID INTEGER PRIMARY KEY AUTOINCREMENT,
    OktatoID INTEGER NOT NULL,
    Szakertelen TEXT NOT NULL,
    FOREIGN KEY (OktatoID) REFERENCES Oktato(OktatoID)
);

-- ===== T√∂bb-t√∂bb kapcsolat: Hallgat√≥ ‚Üî Tanfolyam =====
CREATE TABLE Beiratkozik (
    HallgatoID INTEGER NOT NULL,
    TanfolyamID INTEGER NOT NULL,
    BeiratkozasDatuma DATE NOT NULL,
    Fizetett BOOLEAN DEFAULT 0,
    PRIMARY KEY (HallgatoID, TanfolyamID),
    FOREIGN KEY (HallgatoID) REFERENCES Hallgato(HallgatoID),
    FOREIGN KEY (TanfolyamID) REFERENCES Tanfolyam(TanfolyamID)
);

-- ===== Oktat√≥ tart tanfolyamot =====
CREATE TABLE Tart (
    OktatoID INTEGER NOT NULL,
    TanfolyamID INTEGER NOT NULL,
    PRIMARY KEY (OktatoID, TanfolyamID),
    FOREIGN KEY (OktatoID) REFERENCES Oktato(OktatoID),
    FOREIGN KEY (TanfolyamID) REFERENCES Tanfolyam(TanfolyamID)
);

-- ===== Vizsga =====
CREATE TABLE Vizsga (
    VizsgaID INTEGER PRIMARY KEY AUTOINCREMENT,
    Datum DATE NOT NULL,
    Idotartam INTEGER,
    MaxPontszam INTEGER NOT NULL
);

-- ===== Vizsg√°zik kapcsolat =====
CREATE TABLE Vizsgazik (
    HallgatoID INTEGER NOT NULL,
    VizsgaID INTEGER NOT NULL,
    Pontszam INTEGER,
    Sikeres BOOLEAN,
    PRIMARY KEY (HallgatoID, VizsgaID),
    FOREIGN KEY (HallgatoID) REFERENCES Hallgato(HallgatoID),
    FOREIGN KEY (VizsgaID) REFERENCES Vizsga(VizsgaID)
);


Felt√∂lt√©sek
-- Hallgat√≥k
INSERT INTO Hallgato (Nev, Email, Telefonszam, SzuletesiDatum) VALUES
('Kiss Anna', 'anna@gmail.com', '06203334455', '2001-04-12'),
('Nagy B√©la', 'bela@gmail.com', NULL, '1998-11-02'),
('T√≥th Csaba', 'csaba@gmail.com', '06203338888', '2000-01-01'),
('Szab√≥ R√©ka', 'reka@gmail.com', NULL, '1999-05-18');

-- Tanfolyamok
INSERT INTO Tanfolyam (Cim, Leiras, Kategoria, Oradij) VALUES
('Java Programoz√°s', 'Alapokt√≥l halad√≥ szintig', 'IT', 5000),
('Adatb√°zis-kezel√©s', 'SQL √©s adatmodellez√©s', 'IT', 6000),
('Fot√≥z√°s', 'Kezd≈ë tanfolyam', 'M≈±v√©szet', 3000);

-- Oktat√≥k
INSERT INTO Oktato (Nev) VALUES
('Dr. Kov√°cs P√©ter'),
('Szalai M√°ria'),
('Horv√°th Bence');

-- Szak√©rtelmek
INSERT INTO Szakertelmek (OktatoID, Szakertelen) VALUES
(1, 'Java'),
(1, 'SQL'),
(2, 'Fot√≥z√°s'),
(3, 'SQL');

-- Beiratkoz√°sok
INSERT INTO Beiratkozik VALUES
(1, 1, '2025-01-10', 1),
(1, 2, '2025-01-15', 0),
(2, 3, '2025-01-19', 1),
(3, 1, '2025-01-20', 0);

-- Tanfolyamot tart
INSERT INTO Tart VALUES
(1,1),
(1,2),
(2,3);

-- Vizsg√°k
INSERT INTO Vizsga (Datum, Idotartam, MaxPontszam) VALUES
('2025-03-01', 90, 100),
('2025-04-12', 120, 100);

-- Vizsg√°zik
INSERT INTO Vizsgazik VALUES
(1,1,85,1),
(1,2,NULL,NULL),
(2,1,40,0),
(3,1,NULL,NULL);



Alter Ego
ALTER TABLE Hallgato ADD COLUMN Lakcim TEXT;

ALTER TABLE Tanfolyam RENAME TO Kurzus;

CREATE TABLE uj (...) ; 
INSERT INTO uj SELECT ... FROM regi;
DROP TABLE regi;


üìå 3) SQL kapcsolatok ismertet√©se (k√∂telez≈ë feladathoz)
Kapcsolat t√≠pusa	P√©lda	SQL megval√≥s√≠t√°s
1‚ÄìN	Hallgat√≥ ‚Üí Vizsg√°zik	FOREIGN KEY(HallgatoID)
N‚ÄìN	Hallgat√≥ ‚Üî Tanfolyam	PRIMARY KEY(HallgatoID, TanfolyamID)
K√∂telez≈ë kapcsolat	NOT NULL mez≈ë	pl.: Nev TEXT NOT NULL
Opcion√°lis kapcsolat	NULL √©rt√©k megengedett	pl.: Telefonszam TEXT
Alap√©rt√©k	DEFAULT	pl.: Fizetett BOOLEAN DEFAULT 0
Egyedis√©g	UNIQUE	pl.: Email TEXT UNIQUE

üìå 4) INSERT lehet≈ës√©gek √∂sszefoglal√≥
T√≠pus	P√©lda
Teljes INSERT	INSERT INTO Hallgato VALUES (...)
R√©szleges INSERT	INSERT INTO Hallgato (Nev, Email) VALUES (...)
√úres mez≈ë	NULL
Alap√©rt√©k haszn√°lat	mez≈ët kihagyjuk ‚Üí SQLite automatikusan t√∂lti (DEFAULT, AUTOINCREMENT)



